{"version":3,"sources":["fullPage.js"],"names":["FullPage","options","pageContain","document","getElementById","id","page","children","pagelen","length","iPage","sTime","slideTime","effect","indexNow","start","browser","pageRange","cubicCurve","pageStyle","stepArr","stepNow","mode","modeLen","navChildren","SPACE","_interval","_isLocked","_isNav","_curve","_t","_fix","init","setCubic","trans","resetAndRun","checkStep","onTap","resetStep","replaceClass","roundPage","goPage","navChange","wheelScroll","indexOf","split","push","style","getAttribute","addEventListener","window","gravity","DeviceOrientationEvent","touch","DocumentTouch","version","u","navigator","userAgent","matchVersion","num","substring","replace","cssCore","testCss","webkitTransition","MozTransition","msTransition","OTransition","createElement","UnitBezier","p1x","p1y","p2x","p2y","cx","bx","ax","cy","by","ay","prototype","epsilon","sampleCurveX","t","sampleCurveY","sampleCurveDerivativeX","solveCurveX","x","t0","t1","t2","x2","d2","i","Math","abs","solve","X","documentElement","clientWidth","innerWidth","Y","clientHeight","innerHeight","height","a","b","c","d","A","B","C","D","easing","o","y","s","arguments","scale","rotate","cs","currentStyle","parseInt","left","top","dx","dy","ft","Date","end","pos","e","opacity","diff","clearInterval","setInterval","cssText","transform","from","to","rangeNow","fix","translate","setTimeout","fn","preventDefault","onclick","cls","tocls","oN","className","arr","len","splice","join","removeAttribute","continuous","direct","oldStep","newStep","stepTo","isMac","ua","indexOld","_effectNow","beforeChange","callback","onresize","m","event","returnValue","wheelDelta","detail","onmousewheel","pageIndexMax","scaleStart","scaleDiff","rotateStart","rotateDiff","opacityStart","opacityDiff","touchEvent","delta","isValidMove","isWindowsPhone","prev","next","setIndex","reset","validReset","move","_touch","msPointerEnabled","body","ontouchmove","pr","ne","n","_o","_f","touches","pageX","pageY","time","onSwipeStart","changedTouches","duration","nextDiff","isValidSlide","removeEventListener","navId","navObj","navLen","gotoPage","setAttribute","target","srcElement","tagName","toLowerCase","parentNode","thisPage","go"],"mappings":"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","file":"fullPage.js","sourcesContent":["/* \n * rusherwang\n * rusherwang@tencent.com\n * create: 2014.4.2\n * update: 2016.6.22\n * Github: https://github.com/powy1993/fullpage\n */\n\nfunction FullPage(options) {\n\n\t\"use strict\";\n\n\tvar pageContain = document.getElementById(options.id),\n\t\tpage = pageContain.children,\n\t\tpagelen = page.length,\n\t\tiPage = pagelen,\n\t\tsTime = options.slideTime || 800,\n\t\teffect = options.effect || {},\n\t\tindexNow = options.start || 0,\n\t\tbrowser = {},\n\t\tpageRange = {},\n\t\tcubicCurve = {},\n\t\tpageStyle = [],\n\t\tstepArr = [],\n\t\tstepNow = [],\n\t\tmode = [],\n\t\tmodeLen,\n\t\tnavChildren,\n\t\tSPACE = ' ',\n\t\t_interval = null,\n\t\t_isLocked = false,\n\t\t_isNav = false,\n\t\t_curve,\n\t\t_t,\n\t\t_fix,\n\t\tinit,\n\t\tsetCubic,\n\t\ttrans,\n\t\tresetAndRun,\n\t\tcheckStep,\n\t\tonTap,\n\t\tresetStep,\n\t\treplaceClass,\n\t\troundPage,\n\t\tgoPage,\n\t\tnavChange,\n\t\twheelScroll;\n\n\tif (!page || pagelen === 1) return;\n\tif (options.mode) {\n\t\t_isNav = options.mode.indexOf('nav:') !== -1;\n\t\tmode = options.mode.split(',');\n\t\tmodeLen = mode.length;\n\t}\n\tfor (_t = 0; _t < pagelen; _t++) {\n\t\tpageStyle.push(page[_t].style);\n\t\tstepArr.push(+page[_t].getAttribute('data-step') || 0);\n\t\tstepNow.push(0);\n\t}\n\n\tbrowser = {\n\n        addEventListener : !!window.addEventListener,\n        gravity : !!window.DeviceOrientationEvent,\n        touch : ('ontouchstart' in window) || \n                window.DocumentTouch && document instanceof DocumentTouch,\n\n        version: function() {\n\n            var u = navigator.userAgent,\n                matchVersion = u.indexOf('Android'),\n                num;\n\n            _fix = u.indexOf('QQBrowser') !== -1 ? 200 : 0;\n\n            if (matchVersion !== -1) {\n                num = u.substring(matchVersion + 7, matchVersion + 11).replace(' ', '');\n            }\n            return num || 0;     //0: not Android device\n        }(),\n\n        cssCore: function(testCss) {\n\n            switch (true) {\n                case testCss.webkitTransition === '':\n                return 'webkit'; break;\n                case testCss.MozTransition === '':\n                return 'Moz'; break;\n                case testCss.msTransition === '':\n                return 'ms'; break;\n                case testCss.OTransition === '':\n                return 'O'; break;\n                default:\n                return '';\n            }\n        }(document.createElement('Chriswang').style)\n    };\n\n\n\tfunction UnitBezier(p1x, p1y, p2x, p2y) {\n\t\t// pre-calculate the polynomial coefficients\n\t\t// First and last control points are implied to be (0,0) and (1.0, 1.0)\n\t\tthis.cx = 3.0 * p1x;\n\t\tthis.bx = 3.0 * (p2x - p1x) - this.cx;\n\t\tthis.ax = 1.0 - this.cx -this.bx;\n\t\t \n\t\tthis.cy = 3.0 * p1y;\n\t\tthis.by = 3.0 * (p2y - p1y) - this.cy;\n\t\tthis.ay = 1.0 - this.cy - this.by;\n\t}\n\n\tUnitBezier.prototype = {\n\t\tepsilon : 1e-2,     // Precision  \n\t\tsampleCurveX : function(t) {\n\t    \treturn ((this.ax * t + this.bx) * t + this.cx) * t;\n\t\t},\n\t\tsampleCurveY : function(t) {\n\t    \treturn ((this.ay * t + this.by) * t + this.cy) * t;\n\t\t},\n\t\tsampleCurveDerivativeX : function(t) {\n\t    \treturn (3.0 * this.ax * t + 2.0 * this.bx) * t + this.cx;\n\t\t},\n\t\tsolveCurveX : function(x, epsilon) {\n\t\t\tvar t0,\n\t\t\t\tt1,\n\t\t\t\tt2,\n\t\t\t\tx2,\n\t\t\t\td2,\n\t\t\t\ti;\n\n\t\t\t// First try a few iterations of Newton's method -- normally very fast.\n\t\t\tfor (t2 = x, i = 0; i < 8; i++) {\n\t\t\t    x2 = this.sampleCurveX(t2) - x;\n\t\t\t    if (Math.abs (x2) < epsilon)\n\t\t\t        return t2;\n\t\t\t    d2 = this.sampleCurveDerivativeX(t2);\n\t\t\t    if (Math.abs(d2) < epsilon)\n\t\t\t        break;\n\t\t\t    t2 = t2 - x2 / d2;\n\t\t\t}\n\n\t\t\t// No solution found - use bi-section\n\t\t\tt0 = 0.0;\n\t\t\tt1 = 1.0;\n\t\t\tt2 = x;\n\n\t\t\tif (t2 < t0) return t0;\n\t\t\tif (t2 > t1) return t1;\n\n\t\t\twhile (t0 < t1) {\n\t\t\t\tx2 = this.sampleCurveX(t2);\n\t\t\t\tif (Math.abs(x2 - x) < epsilon)\n\t\t\t\t\treturn t2;\n\t\t\t\tif (x > x2) t0 = t2;\n\t\t\t\telse t1 = t2;\n\n\t\t\t\tt2 = (t1 - t0) * .5 + t0;\n\t\t\t}\n\n\t\t\t// Give up\n\t\t\treturn t2;\n\t\t},\n\n\t\t// Find new T as a function of Y along curve X\n\t\tsolve : function(x, epsilon) {\n\t    \treturn this.sampleCurveY( this.solveCurveX(x, epsilon) );\n\t\t}\n\t}\n\n\tinit = function() {\n\t\t\n\t\tvar i = pagelen;\n\n\t\tpageRange = {\n\t\t\tX : document.documentElement.clientWidth || window.innerWidth,\n\t\t\tY : document.documentElement.clientHeight || window.innerHeight\n\t\t}\n\n\t\tpageContain.style.height = pageRange.Y + 'px';\n\n\t}\n\n\tsetCubic = function(a, b, c, d) {\n\n\t\tcubicCurve.A = a;\n\t\tcubicCurve.B = b;\n\t\tcubicCurve.C = c;\n\t\tcubicCurve.D = d;\n\t}\n\n\tif (typeof options.easing === 'string') {\n\n\t\tswitch (options.easing) {\n\n\t\t\tcase 'ease' : \n\t\t\tsetCubic(0.25, 0.1, 0.25, 1);\n\t\t\tbreak;\n\n\t\t\tcase 'linear' :\n\t\t\tsetCubic(0, 0, 1, 1);\n\t\t\tbreak;\n\n\t\t\tcase 'ease-in' : \n\t\t\tsetCubic(0.42, 0, 1, 1);\n\t\t\tbreak;\n\n\t\t\tcase 'ease-out' :\n\t\t\tsetCubic(0, 0, 0.58, 1);\n\t\t\tbreak;\n\n\t\t\tcase 'ease-in-out' :\n\t\t\tsetCubic(0.42, 0, 0.58, 1);\n\t\t\tbreak;\n\t\t}\n\t} else {\n\t\tsetCubic(options.easing[0], options.easing[1], options.easing[2], options.easing[3]);\n\t}\n\n\tif (browser.cssCore !== '') {\n\t\t\n\t\twhile (iPage--) {\n\n\t\t\tpageStyle[iPage][browser.cssCore + 'TransitionTimingFunction'] = 'cubic-bezier(' \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   + cubicCurve.A + ',' \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   + cubicCurve.B + ',' \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   + cubicCurve.C + ',' \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   + cubicCurve.D + ')';\n\t\t}\n\n\t\ttrans = function(o, x, y, t) {\n\n\t\t\tvar s = o.style,\n\t\t\t\tc = 'translate(' + x +'px,' + y + 'px) translateZ(0)',\n\t\t\t\ta = arguments[4];\n\n\t\t\tif (a.scale) {\n\t\t\t\tc += t === 0 ? ' scale(' + a.scale[0] + ')'\n\t\t\t\t\t\t\t : ' scale(' + a.scale[1] + ')';\n\t\t\t}\n\n\t\t\tif (a.rotate) {\n\t\t\t\tc += t === 0 ? ' rotate(' + a.rotate[0] + 'deg)'\n\t\t\t\t\t\t\t : ' rotate(' + a.rotate[1] + 'deg)';\n\t\t\t}\n\t\t\ts[browser.cssCore + 'TransformOrigin'] = '50% 50%';\n\t\t\ts[browser.cssCore + 'Transform'] = c;\n\t\t}\n\t} else {\n\t\t// simulate translate for ie9- \n\t\t// Cubic-bezier : Fn(t) = (3p1-3p2+1)t^3+(3p2-6p1)t^2-3p1t.\n\t\t_curve = new UnitBezier(cubicCurve.A, cubicCurve.B, cubicCurve.C, cubicCurve.D);\n\n\t\ttrans = function(o, x, y, t) {\n\n\t\t\tvar cs  = o.currentStyle,\n\t\t\t\ts   = o.style,\n\t\t\t\tcx  = parseInt(s.left || cs.left, 10),\n\t\t\t\tcy  = parseInt(s.top  || cs.top, 10),\n\t\t\t\tdx  = x - cx,\n\t\t\t\tdy  = y - cy,\n\t\t\t\tft  = +new Date,\n\t\t\t\tend = ft + t,\n\t\t\t\tpos = 0,\n\t\t\t\te   = effect.opacity,\n\t\t\t\tdiff;\n\n\t\t\tclearInterval(_interval);\n\n\t\t\t_interval = setInterval(function() {\n\n\t\t\t\tvar _t;\n\n\t\t\t\tif (+new Date > end) {\n\n\t\t\t\t\t_t = e ? 'left:' + x + 'px;top:' + y + 'px;filter:alpha(opacity=' + 100 * e[1] + ');'\n\t\t\t\t\t\t   : 'left:' + x + 'px;top:' + y + 'px;';\n\n\t\t\t\t\tclearInterval(_interval);\n\t\t\t\t} else {\n\t\t\t\t\tdiff = end - new Date;\n\t\t\t\t\tpos  = diff / t;\n\t\t\t\t\t// fix to cubic-bezier\n\t\t\t\t\tpos = _curve.solve(1 - pos, UnitBezier.prototype.epsilon);\n\n\t\t\t\t\t_t = 'left:'  + (cx + dx * pos) \n\t\t\t\t\t\t\t\t  + 'px;top:' + (cy + dy * pos) \n\t\t\t\t\t\t\t\t  + 'px;'\n\t\t\t\t\tif (e) {\n\t\t\t\t\t\t_t += 'filter:alpha(opacity=' + ~~(100 * (e[1] * pos - e[0] * (1 - pos)))+ ');'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts.cssText = _t;\n\t\t\t}, 13);\n\t\t}\n\t}\n\n\tresetAndRun = {\n\t\ttransform : function(o, from, to) {\n\n\t\t\tvar rangeNow = 0,\n\t\t\t\tfix = browser.cssCore === ''\n\t\t\t\t\t&& (o['translate'] === 'none' || !o.translate ) ? -50 : _fix;\n\n\t\t\tswitch (o['translate']) {\n\t\t\t\tcase 'Y' :\n\t\t\t\trangeNow = to > from ? pageRange.Y : - pageRange.Y;\n\t\t\t\ttrans(page[to], 0, rangeNow, 0, o);\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'X' :\n\t\t\t\trangeNow = to > from ? pageRange.X : - pageRange.X;\n\t\t\t\ttrans(page[to], rangeNow, 0, 0, o);\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'XY' :\n\t\t\t\trangeNow = {\n\t\t\t\t\tX : to > from ? pageRange.X : - pageRange.X, \n\t\t\t\t\tY : to > from ? pageRange.Y : - pageRange.Y\n\t\t\t\t}\n\t\t\t\ttrans(page[to], rangeNow.X, rangeNow.Y, 0, o);\n\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\ttrans(page[to], 0, 0, 0, o);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tsetTimeout(function() {\n\t\t\t\ttrans(page[to], 0, 0, sTime, o);\n\t\t\t}, fix + 50);\n\t\t},\n\t\topacity : function(o, from, to) {\n\t\t\tvar s = page[to].style;\n\n\t\t\ts.opacity = o[0];\n\t\t\tsetTimeout(function() {\n\t\t\t\ts.opacity = o[1];\n\t\t\t}, 70);\n\t\t}\n\t}\n\n\tif (browser.addEventListener && browser.touch) {\n\t\tif (navigator.userAgent.indexOf('Firefox')) {\n\t\t\tonTap = function(o, fn) {\n\t\t\t\to.addEventListener('click', fn, false);\n\t\t\t}\n\t\t} else {\n\t\t\tonTap = function (o, fn) {\n\t\t\t\to.addEventListener('touchstart', fn, false);\n\t\t\t\tif (arguments[2]) {       \n\t\t\t\t\t// if we touch on navBar we should stop scroll\n\t\t\t\t\to.addEventListener('touchmove', function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tonTap = function (o, fn) {\n\t\t\to.onclick = fn;\n\t\t}\n\t}\n\n\treplaceClass = function(o, cls, tocls) {\n\n\t\tvar oN = o.className,\n\t\t\tarr = [],\n\t\t\tlen;\n\n\t\tif (oN.indexOf(cls) !== -1) {\n\n\t\t\tarr = oN.split(SPACE);\n\t\t\tlen = arr.length;\n\t\t\twhile (len--) {\n\t\t\t\tif (arr[len] === cls) {\n\t\t\t\t\tif (tocls === SPACE || tocls === '') {\n\t\t\t\t\t\tarr.splice(len, 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr[len] = tocls;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (arr.length) {\n\t\t\t\to.className = arr.join(SPACE);\n\t\t\t} else {\n\t\t\t\to.removeAttribute('class');\n\t\t\t\to.removeAttribute('className');\n\t\t\t}\n\t\t}\n\n\t}\n\n\tif (_isNav) {\n\t\tnavChange = function(from, to) {\n\t\t\tvar t = navChildren[to].className;\n\n\t\t\treplaceClass(navChildren[from], 'active', SPACE);\n\t\t\tnavChildren[to].className = t === '' ? 'active' : t + ' active';\n\t\t}\n\t}\n\n\tif (options.continuous) {\n\t\troundPage = function(page) {\n\t\t\tvar i = pagelen;\n\n\t\t\tif (arguments[1]) {\n\t\t\t\tif (page >= pagelen) {\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\tstepNow[i] = 0;\n\t\t\t\t\t}\n\t\t\t\t} else if (page < 0) {\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\tstepNow[i] = stepArr[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn (pagelen + page % pagelen) % pagelen\n\t\t}\n\t}\n\n\tcheckStep = function(direct) {\n\t\tvar oldStep = stepNow[indexNow],\n\t\t\tnewStep = oldStep + direct;\n\n\t\tif (newStep >= 0 && newStep <= stepArr[indexNow]) {\n\t\t\tif (newStep === 0) {\n\t\t\t\treplaceClass(page[indexNow], 'step1', '');\n\t\t\t\tstepNow[indexNow] = newStep;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (newStep === 1 && oldStep === 0) {\n\t\t\t\tpage[indexNow].className += ' step1';\n\t\t\t\tstepNow[indexNow] = newStep;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treplaceClass(page[indexNow], 'step' + oldStep, 'step' + newStep);\n\t\t\tstepNow[indexNow] = newStep;\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tresetStep = function() {\n\t\tvar stepTo = page[indexNow].getAttribute('data-step-restart');\n\t\tif (stepTo == null) return;\n\n\t\tstepTo = +stepTo > stepArr[indexNow] ? stepArr[indexNow] : +stepTo;\n\t\tif (stepTo === 0) {\n\t\t\treplaceClass(page[indexNow], 'step' + stepNow[indexNow], '');\n\t\t} else {\n\t\t\treplaceClass(page[indexNow], 'step' + stepNow[indexNow], 'step' + stepTo);\n\t\t}\n\t\tstepNow[indexNow] = stepTo;\n\t}\n\n\tgoPage = function(to) {\n\n\t\tvar isMac = function(ua) {\n        \t\treturn ua.indexOf('Mac OS') !== -1;\n    \t\t}(navigator.userAgent),\n\t\t\tfix = _fix,\n\t\t\tindexOld,\n\t\t\t_effectNow;\n\n\t\tif (options.beforeChange) {\n\t\t\tif (options.beforeChange(indexNow, page[indexNow]) === 'stop') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (_isLocked                 \t\t\t// make sure translate is already\n\t\t\t|| to === indexNow) return;\t\t\t// don't translate if thispage\n\n\t\tif (options.continuous) {\n\t\t\tto = roundPage(to, 1);\n\t\t} else {\n\t\t\tif (to >= pagelen \n\t\t\t\t&& stepNow[indexNow] >= stepArr[indexNow] \n\t\t\t\t|| to < 0 \n\t\t\t\t&& stepNow[indexNow] === 0) return;\n\t\t}\n\n\t\t_isLocked = true;\n\t\t\n\t\tif (!arguments[1] && !checkStep(to - indexNow)) {\n\t\t\treturn setTimeout(function() {\n\t\t\t\t_isLocked = false;\n\t\t\t}, sTime);\n\t\t}\n\n\t\tfor (_effectNow in effect) {\n\t\t\tresetAndRun[_effectNow](effect[_effectNow], indexNow, to);\n\t\t}\n\n\t\tfix += browser.cssCore === '' ? 20  : 0 ;\n\t\tindexOld = indexNow;\n\t\tindexNow = to;\n\t\tif (_isNav) navChange(indexOld, indexNow);\n\t\tsetTimeout(function() {\n\t\t\t// fix for bug in ie6-9 about z-index\n\t\t\tpage[to].className += ' slide';\t\n\t\t}, fix);\n\n\t\tsetTimeout(function() {\n\n\t\t\tpageStyle[to][browser.cssCore + 'TransitionDuration'] = sTime + 'ms';\n\t\t}, 20);\n\n\t\tsetTimeout(function() {\n\n\t\t\tresetStep();\n\t\t\treplaceClass(page[indexOld], 'current', '');\n\t\t\treplaceClass(page[indexNow], 'slide', 'current');\n\n\t\t\tif (options.callback) {\n\t\t\t\toptions.callback(indexNow, page[indexNow]);\n\t\t\t}\n\t\t\tif (isMac) {\n\t\t\t\t// Mac电脑多延迟500ms 防止鼠标滚轮事件不断触发导致多翻一页\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t_isLocked = false;\n\t\t\t\t}, 500)\n\t\t\t} else {\n\t\t\t\t_isLocked = false;\n\t\t\t}\n\t\t}, sTime + _fix + 120);\n\n\t}\n\t\n\tinit();\n\t// Tag first page\n\t_t = page[indexNow].className;\n\tpage[indexNow].className = _t.indexOf('current') !== -1 ? _t : _t + ' current';\n\n\tif (browser.addEventListener) {\n\n\t\twindow.addEventListener('resize', init, false);\n\t} else {\n\n\t\twindow.onresize = init;\n\t}\n\t// check mode\n\twhile (modeLen--) {\n\n\t\t(function(m) {\n\n\t\t\tswitch (true) {\n\t\t\t\tcase m === 'wheel' :\n\n\t\t\t\twheelScroll = function(e) {\n\n\t\t\t\t\tvar direct;\n\t\t\t\t\te = e || window.event;\n\t\t\t\t\tif (e.preventDefault) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.returnValue = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (_isLocked) return;\n\t\t\t\t\tdirect = - e.wheelDelta ||  e.detail;\n\t\t\t\t\tdirect = direct < 0 ? -1 : 1;\n\n\t\t\t\t\tgoPage(indexNow + direct);\n\t\t\t\t}\n\t\t\t\tif (browser.addEventListener) {\n\t\t\t\t\tdocument.addEventListener('DOMMouseScroll', wheelScroll, false);\n\t\t\t\t}\n\t\t\t\twindow.onmousewheel = document.onmousewheel = wheelScroll;\n\t\t\t\tbreak;\n\n\t\t\t\tcase m === 'touch' :\n\t\t\t\tif (!browser.addEventListener) break;\n\t\t\t\t(function() {\n\n\t\t\t\t\tvar pageIndexMax = pagelen - 1,\n\t\t\t\t\t\tscaleStart = effect.transform.scale[0],\n\t\t\t\t\t\tscaleDiff = effect.transform.scale[1] - scaleStart,\n\t\t\t\t\t\trotateStart = effect.transform.rotate[0],\n\t\t\t\t\t\trotateDiff = effect.transform.rotate[1] - rotateStart,\n\t\t\t\t\t\topacityStart = effect.opacity[0],\n\t\t\t\t\t\topacityDiff = effect.opacity[1] - opacityStart,\n\t\t\t\t\t\ttouchEvent = {},\n\t\t\t\t\t\tstart = {},\n\t\t\t\t\t\tdelta = {},\n\t\t\t\t\t\tisValidMove = false,\n\t\t\t\t\t\tisWindowsPhone = navigator.userAgent.indexOf('Windows Phone') === -1 ? false : true,\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\tnext,\n\t\t\t\t\t\tsetIndex,\n\t\t\t\t\t\treset,\n\t\t\t\t\t\tvalidReset,\n\t\t\t\t\t\tmove,\n\t\t\t\t\t\t_interval,\n\t\t\t\t\t\t_touch,\n\t\t\t\t\t\t_t;\n\n\t\t\t\t\tif (!browser.touch && isWindowsPhone) {\n\t\t\t\t\t\tif (window.navigator.msPointerEnabled) {\n\t\t\t\t\t\t\t_touch = {\n\t\t\t\t\t\t\t\tstart: 'MSPointerDown',\n\t\t\t\t\t\t\t\tmove: 'MSPointerMove',\n\t\t\t\t\t\t\t\tend: 'MSPointerUp'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_touch = {\n\t\t\t\t\t\t\t\tstart: 'pointerDown',\n\t\t\t\t\t\t\t\tmove: 'pointerMove',\n\t\t\t\t\t\t\t\tend: 'pointerUp'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_touch = {\n\t\t\t\t\t\t\tstart: 'touchstart',\n\t\t\t\t\t\t\tmove: 'touchmove',\n\t\t\t\t\t\t\tend: 'touchend'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!_touch) return;\n\t\t\t\t\tdocument.body.ontouchmove = function(e) {\n\t\t\t\t\t\tif (e.preventDefault) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\te.returnValue = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (effect.transform.translate === 'Y') {\n\t\t\t\t\t\tsetIndex = function() {\n\t\t\t\t\t\t\tvar pr = indexNow - 1, \n\t\t\t\t\t\t\t\tne = indexNow + 1;\n\n\t\t\t\t\t\t\tif (options.continuous) {\n\t\t\t\t\t\t\t\tpr = roundPage(pr);\n\t\t\t\t\t\t\t\tne = roundPage(ne);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprev = pageStyle[pr];\n\t\t\t\t\t\t\tnext = pageStyle[ne];\n\n\t\t\t\t\t\t\tif (prev) {\n\t\t\t\t\t\t\t\tprev[browser.cssCore + 'TransitionDuration'] = '0ms';\n\t\t\t\t\t\t\t\tprev[browser.cssCore + 'Transform'] = 'translate(0,-' + pageRange.Y + 'px) translateZ(0)';\n\t\t\t\t\t\t\t\tprev[browser.cssCore + 'TransformOrigin'] = '50% 100%';\n\t\t\t\t\t\t\t\tpage[pr].className += ' swipe';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (next) {\n\t\t\t\t\t\t\t\tnext[browser.cssCore + 'TransitionDuration'] = '0ms';\n\t\t\t\t\t\t\t\tnext[browser.cssCore + 'Transform'] = 'translate(0,' + pageRange.Y + 'px) translateZ(0)';\n\t\t\t\t\t\t\t\tnext[browser.cssCore + 'TransformOrigin'] = '50% 0%';\n\t\t\t\t\t\t\t\tpage[ne].className += ' swipe';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmove = function (o) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar pos = Math.abs(o.y / pageRange.Y),\n\t\t\t\t\t\t\t\t_t = ' scale(' + ~~(100 * (scaleStart + scaleDiff * pos)) / 100\n\t\t\t\t\t\t\t\t   + ') rotate(' + ~~(rotateStart + rotateDiff * pos) + 'deg)';\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (prev && o.y > 0) {\n\t\t\t\t\t\t\t\tprev.opacity = ~~(100 * (opacityStart + opacityDiff * pos)) / 100;\n\t\t\t\t\t\t\t\tprev[browser.cssCore + 'Transform'] = 'translate(0,' + ~~(o.y - pageRange.Y) + 'px) translateZ(0)' + _t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (next && o.y < 0) {\n\t\t\t\t\t\t\t\tnext.opacity = ~~(100 * (opacityStart + opacityDiff * pos)) / 100;\n\t\t\t\t\t\t\t\tnext[browser.cssCore + 'Transform'] = 'translate(0,' + ~~(pageRange.Y + o.y) + 'px) translateZ(0)' + _t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treset = function(s, n) {\n\n\t\t\t\t\t\t\tvar _t = sTime >> 1,\n\t\t\t\t\t\t\t\tne = indexNow + n;\n\n\t\t\t\t\t\t\tif (options.continuous) {\n\t\t\t\t\t\t\t\tne = roundPage(ne);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treplaceClass(page[ne], 'swipe', 'slide');\n\t\t\t\t\t\t\ts.opacity = 1;\n\t\t\t\t\t\t\ts[browser.cssCore + 'TransitionDuration'] = _t + 'ms';\n\t\t\t\t\t\t\ts[browser.cssCore + 'Transform'] = 'translate(0,'+ n * pageRange.Y + 'px) translateZ(0)';\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\treplaceClass(page[ne], 'slide', '');\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t_isLocked = false;\n\t\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\t}, _t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalidReset = function(s, n) {\n\n\t\t\t\t\t\t\tvar to = indexNow + n,\n\t\t\t\t\t\t\t\t_t = ~~(sTime / 1.5),\n\t\t\t\t\t\t\t\t_o,\n\t\t\t\t\t\t\t\t_f;\n\n\t\t\t\t\t\t\tif (options.continuous) {\n\t\t\t\t\t\t\t\tto = roundPage(to);\n\t\t\t\t\t\t\t\t_o = page[ roundPage(indexNow - n) ];\n\t\t\t\t\t\t\t\t_f = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_o = page[indexNow - n];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (_o) {\n\t\t\t\t\t\t\t\treplaceClass(_o, 'swipe', '');\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\tif (!_f && to < 0 || to > pagelen - 1) {\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t_isLocked = false;\n\t\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (_isNav) {\n\t\t\t\t\t\t\t\tnavChange(indexNow, to);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ts.opacity = 1;\n\t\t\t\t\t\t\treplaceClass(page[to], 'swipe', 'slide');\n\t\t\t\t\t\t\ts[browser.cssCore + 'TransitionDuration'] = _t + 'ms';\n\t\t\t\t\t\t\ts[browser.cssCore + 'Transform'] = 'translate(0,0) translateZ(0)';\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tresetStep();\n\t\t\t\t\t\t\t\treplaceClass(page[indexNow], 'current', '');\n\t\t\t\t\t\t\t\treplaceClass(page[to], 'slide', 'current');\n\t\t\t\t\t\t\t\tindexNow = to;\n\t\t\t\t\t\t\t\tif (options.callback) {\n\t\t\t\t\t\t\t\t\toptions.callback(indexNow, page[indexNow]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t_isLocked = false;\n\t\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t\t}, _t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetIndex = function() {\n\n\t\t\t\t\t\t\tvar pr = indexNow - 1, \n\t\t\t\t\t\t\t\tne = indexNow + 1;\n\n\t\t\t\t\t\t\tif (options.continuous) {\n\t\t\t\t\t\t\t\tpr = roundPage(pr);\n\t\t\t\t\t\t\t\tne = roundPage(ne);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprev = pageStyle[pr];\n\t\t\t\t\t\t\tnext = pageStyle[ne];\n\n\t\t\t\t\t\t\tif (prev) {\n\t\t\t\t\t\t\t\tprev[browser.cssCore + 'TransitionDuration'] = '0ms';\n\t\t\t\t\t\t\t\tprev[browser.cssCore + 'Transform'] = 'translate(-' + pageRange.X + 'px,0) translateZ(0)';\n\t\t\t\t\t\t\t\tprev[browser.cssCore + 'TransformOrigin'] = '100% 50%';\n\t\t\t\t\t\t\t\tpage[pr].className += ' swipe';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (next) {\n\t\t\t\t\t\t\t\tnext[browser.cssCore + 'TransitionDuration'] = '0ms';\n\t\t\t\t\t\t\t\tnext[browser.cssCore + 'Transform'] = 'translate(' + pageRange.X + 'px,0) translateZ(0)';\n\t\t\t\t\t\t\t\tnext[browser.cssCore + 'TransformOrigin'] = '0 50%';\n\t\t\t\t\t\t\t\tpage[ne].className += ' swipe';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmove = function (o) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar pos = Math.abs(o.x / pageRange.X),\n\t\t\t\t\t\t\t\t_t = ' scale(' + ~~(100 * (scaleStart + scaleDiff * pos)) / 100\n\t\t\t\t\t\t\t\t   + ') rotate(' + ~~(rotateStart + rotateDiff * pos) + 'deg)';\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (prev && o.x > 0) {\n\t\t\t\t\t\t\t\tprev.opacity = ~~(100 * (opacityStart + opacityDiff * pos)) / 100;\n\t\t\t\t\t\t\t\tprev[browser.cssCore + 'Transform'] = 'translate(' + ~~(o.x - pageRange.X) + 'px,0) translateZ(0)' + _t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (next && o.x < 0) {\n\t\t\t\t\t\t\t\tnext.opacity = ~~(100 * (opacityStart + opacityDiff * pos)) / 100;\n\t\t\t\t\t\t\t\tnext[browser.cssCore + 'Transform'] = 'translate(' + ~~(pageRange.X + o.x) + 'px,0) translateZ(0)' + _t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treset = function(s, n) {\n\n\t\t\t\t\t\t\tvar _t = sTime >> 1,\n\t\t\t\t\t\t\t\tne = indexNow + n;\n\n\t\t\t\t\t\t\tif (options.continuous) {\n\t\t\t\t\t\t\t\tne = roundPage(ne);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treplaceClass(page[ne], 'swipe', 'slide');\n\n\t\t\t\t\t\t\ts.opacity = 1;\n\t\t\t\t\t\t\ts[browser.cssCore + 'TransitionDuration'] = _t + 'ms';\n\t\t\t\t\t\t\ts[browser.cssCore + 'Transform'] = 'translate('+ n * pageRange.X + 'px,0) translateZ(0)';\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\treplaceClass(page[ne], 'slide', '');\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t_isLocked = false;\n\t\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\t}, _t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalidReset = function(s, n) {\n\n\t\t\t\t\t\t\tvar to = indexNow + n,\n\t\t\t\t\t\t\t\t_t = ~~(sTime / 1.5),\n\t\t\t\t\t\t\t\t_o,\n\t\t\t\t\t\t\t\t_f;\n\n\t\t\t\t\t\t\tif (options.continuous) {\n\t\t\t\t\t\t\t\tto = roundPage(to);\n\t\t\t\t\t\t\t\t_o = page[ roundPage(indexNow - n) ];\n\t\t\t\t\t\t\t\t_f = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_o = page[indexNow - n];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (_o) {\n\t\t\t\t\t\t\t\treplaceClass(_o, 'swipe', '');\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\tif (!_f && to < 0 || to > pagelen - 1) {\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t_isLocked = false;\n\t\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (_isNav) {\n\t\t\t\t\t\t\t\tnavChange(indexNow, to);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treplaceClass(page[to], 'swipe', 'slide');\n\t\t\t\t\t\t\ts.opacity = 1;\n\t\t\t\t\t\t\ts[browser.cssCore + 'TransitionDuration'] = _t + 'ms';\n\t\t\t\t\t\t\ts[browser.cssCore + 'Transform'] = 'translate(0,0) translateZ(0)';\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tresetStep();\n\t\t\t\t\t\t\t\treplaceClass(page[indexNow], 'current', '');\n\t\t\t\t\t\t\t\treplaceClass(page[to], 'slide', 'current');\n\t\t\t\t\t\t\t\tindexNow = to;\n\t\t\t\t\t\t\t\tif (options.callback) {\n\t\t\t\t\t\t\t\t\toptions.callback(indexNow, page[indexNow]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t_isLocked = false;\n\t\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t\t}, _t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttouchEvent = {\n\t\t\t\t\t\tstart : function(e) {\n\n\t\t\t\t\t\t\tvar touches = e.touches ? e.touches[0] : e;\n\n\t\t\t\t\t\t\tif (_isLocked) return;\n\t\t\t\t\t\t\t_isLocked = true;\n\n\t\t\t\t\t\t\tstart = {\n\t\t\t\t\t\t\t\tx : touches.pageX,\n\t\t\t\t\t\t\t\ty : touches.pageY,\n\t\t\t\t\t\t\t\ttime : +new Date\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (options.onSwipeStart \n\t\t\t\t\t\t\t\t&& options.onSwipeStart(indexNow, page[indexNow]) === 'stop') {\n\t\t\t\t\t\t\t\treturn _isLocked = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// reset\n\t\t\t\t\t\t\tdelta = {};\n\t\t\t\t\t\t\tisValidMove = false;\n\n\t\t\t\t\t\t\tsetIndex();\n\n\t\t\t\t\t\t\tpageContain.addEventListener(_touch.move, touchEvent.move, false);\n\t\t\t\t\t\t\tpageContain.addEventListener(_touch.end, touchEvent.end, false);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmove : function(e) {\n\n\t\t\t\t\t\t\tvar touches = e.touches ? e.touches[0] : e,\n\t\t\t\t\t\t\t\tdirect;\n\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t// ensure swiping with one touch and not pinching\n      \t\t\t\t\t\tif (browser.touch \n      \t\t\t\t\t\t\t&& (event.touches.length > 1 \n      \t\t\t\t\t\t\t\t|| event.scale && event.scale !== 1)) return\n\n\t\t\t\t\t\t\tdelta = {\n\t\t\t\t\t\t\t\tx : touches.pageX - start.x,\n\t\t\t\t\t\t\t\ty : touches.pageY - start.y\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!isValidMove) {\n\t\t\t\t\t\t\t\t_t = Math.abs(delta.x) > Math.abs(delta.y) ? 'X' : 'Y';\n\t\t\t\t\t\t\t\t_t = _t === options.effect.transform['translate'] ? true : false;\n\t\t\t\t\t\t\t\tisValidMove = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (options.effect.transform['translate'] === 'X') {\n\t\t\t\t\t\t\t\t\tdirect = delta.x < 0 ? 1 : -1;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdirect = delta.y < 0 ? 1 : -1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (stepNow[indexNow] + direct >= 0 && stepNow[indexNow] + direct <= stepArr[indexNow]) return;\n\t\t\t\t\t\t\t\tif (_t) move(delta);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tend : function(e) {\n\n\t\t\t\t\t\t\tvar touches = e.changedTouches ? e.changedTouches[0] : e,\n\t\t\t\t\t\t\t\tduration = +new Date - start.time,\n\t\t\t\t\t\t\t\tabs = {},\n\t\t\t\t\t\t\t\tnextDiff = 0,\n\t\t\t\t\t\t\t\tisValidSlide = false;\n\n\t\t\t\t\t\t\tdelta = {\n\t\t\t\t\t\t\t\tx : touches.pageX - start.x,\n\t\t\t\t\t\t\t\ty : touches.pageY - start.y\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tabs = {\n\t\t\t\t\t\t\t\tx : Math.abs(delta.x),\n\t\t\t\t\t\t\t\ty : Math.abs(delta.y)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tswitch (options.effect.transform['translate']) {\n\t\t\t\t\t\t\t\tcase 'Y' :\n\t\t\t\t\t\t\t\tisValidSlide = \n\t\t\t\t\t\t\t\t\t+  duration < 250 && abs.y > 30\n\t\t\t\t\t\t\t\t\t|| abs.y > pageRange.Y * .3;\n\t\t\t\t\t\t\t\tnextDiff = delta.y > 0 ? -1 : 1;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'X' :\n\t\t\t\t\t\t\t\tisValidSlide = \n\t\t\t\t\t\t\t\t\t+  duration < 250 && abs.x > 30\n\t\t\t\t\t\t\t\t\t|| abs.x > pageRange.X * .3;\n\t\t\t\t\t\t\t\tnextDiff = delta.x > 0 ? -1 : 1;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault :\n\t\t\t\t\t\t\t\tisValidSlide = \n\t\t\t\t\t\t\t\t\t+  duration < 350 && abs.y + abs.x > 50\n\t\t\t\t\t\t\t\t\t|| abs.y > pageRange.Y * .3\n\t\t\t\t\t\t\t\t\t|| abs.x > pageRange.X * .3;\n\t\t\t\t\t\t\t\tnextDiff = abs.x > abs.y ? \n\t\t\t\t\t\t\t\t\t   delta.x > 0 ? -1 : 1\n\t\t\t\t\t\t\t\t\t : delta.y > 0 ? -1 : 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (!isValidSlide \n\t\t\t\t\t\t\t\t|| !_t \n\t\t\t\t\t\t\t\t|| !checkStep(nextDiff)\n\t\t\t\t\t\t\t\t|| options.continuous === false \n\t\t\t\t\t\t\t\t&& (!prev && nextDiff === -1 || !next && nextDiff === 1)) {\n\t\t\t\t\t\t\t\tif (prev) reset(prev, - 1);\n\t\t\t\t\t\t\t\tif (next) reset(next, + 1);\n\t\t\t\t\t\t\t} else if (options.beforeChange \n\t\t\t\t\t\t\t\t\t   && options.beforeChange(indexNow, page[indexNow]) === 'stop') {\n\t\t\t\t\t\t\t\tif (prev) reset(prev, - 1);\n\t\t\t\t\t\t\t\tif (next) reset(next, + 1);\n\t\t\t\t\t\t\t} else if (nextDiff === -1) {\n\t\t\t\t\t\t\t \tvalidReset(prev, -1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvalidReset(next, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpageContain.removeEventListener(_touch.move, touchEvent.move, false);\n\t\t\t\t\t\t\tpageContain.removeEventListener(_touch.end, touchEvent.end, false);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tpageContain.addEventListener(_touch.start, touchEvent.start, false);\n\t\t\t\t}());\n\t\t\t\tbreak;\n\n\t\t\t\tcase m.indexOf('nav:') !== -1 : \n\t\t\t\t(function() {\n\n\t\t\t\t\tvar navId = m.split(':')[1],\n\t\t\t\t\t\tnavObj = document.getElementById(navId),\n\t\t\t\t\t\tnavLen,\n\t\t\t\t\t\tgotoPage,\n\t\t\t\t\t\t_t;\n\n\t\t\t\t\tnavChildren = navObj.children;\n\t\t\t\t\tnavLen = navChildren.length;\n\t\t\t\t\t_t = navChildren[indexNow].className;\n\n\t\t\t\t\tif (!navObj || !navChildren) return;\n\n\t\t\t\t\twhile (navLen--) {\n\t\t\t\t\t\t// set attr for finding specific page\n\t\t\t\t\t\tnavChildren[navLen].setAttribute('data-page', navLen);\n\t\t\t\t\t}\n\t\t\t\t\tif (_t.indexOf('active') === -1) {\n\t\t\t\t\t\tnavChildren[indexNow].className = _t === '' ? 'active' : _t + ' active';\n\t\t\t\t\t}\n\n\t\t\t\t\tgotoPage = function(e) {\n\n\t\t\t\t\t\tvar t;\n\t\t\t\t\t\te = e || window.event;\n\t\t\t\t\t\te = e.target || e.srcElement;\n\n\t\t\t\t\t\tt = e.tagName.toLowerCase();\n\n\t\t\t\t\t\twhile (t !== 'li') {\n\t\t\t\t\t\t\tif (t === 'ul') return;\n\t\t\t\t\t\t\te = e.parentNode;\n\t\t\t\t\t\t\tt = e.tagName.toLowerCase();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgoPage( + e.getAttribute('data-page'), 1); \n\t\t\t\t\t}\n\t\t\t\t\t// bind event to navObj\n\t\t\t\t\tonTap(navObj, gotoPage, 1);\n\t\t\t\t}());\n\t\t\t}\n\t\t}(mode[modeLen]));\n\t}\n\n\treturn {\n\t\tthisPage : function() {\n\t\t\treturn indexNow;\n\t\t},\n\t\tgo : function(num) {\n\t\t\tgoPage(num);\n\t\t},\n\t\tnext : function() {\n\t\t\tgoPage(indexNow + 1);\n\t\t},\n\t\tprev : function() {\n\t\t\tgoPage(indexNow - 1);\n\t\t}\n\t}\n}\n"]}